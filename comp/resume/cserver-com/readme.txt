
審判プログラムの使い方
----------------------
MinGW(Windows用 gcc)がインストールされていれば、compile.batで
コンパイルできる。#include <windows.h>を変更し、適当なコマンド
ラインオプションを与えれば Cygwinのgccでもコンパイル可能。また、
少しの変更で VC++ 等でもコンパイルできるはずである。

ソースは以下の５つで、デフォルトの実行ファイル名はcserver-com.exe
である。
	util.{c,h}	エラー処理関数やマクロ等
	com.{c,h}	COMポートによる通信を行うための関数群
	cserver-com.c	メインファイル
	
使い方は、ソース中でコマンドラインオプションを表示する処理を
している部分を参照。


審判プログラムの通信パターンと、時間測定の流れ
----------------------------------------------

        PC側審判プログラム                             基板(自作CPU)側

｜時                                               CPUの回路がImpactにより
↓間                                               転送され動作開始
       審判プログラム起動

                                                   初期化が終ったら、SLDデータ
                                                   転送開始の合図として1バイト
                                    (0xaa)         データ0xaaを送る
                               ←−−−−−−−
       0xaaを受信したら、現在
       の時刻を測定開始時間と
       して記録。続いてSLD
       データをバイナリ形式で
       送る                      (SLDデータ)
                               −−−−−−−→
                                                   画像を計算し、PPM形式で送り
                                                   返す。P3(text形式)、P6
                                   (PPM画像)       (binary形式)どちらでも良い
                               ←−−−−−−−
       画像のピクセルが全て揃
       った時点で、現在の時刻
       を測定終了時間として記
       録。この時刻と測定開始
       時刻の差を計算時間とし
       て表示。


■SLDファイルは、int, floatともに4バイトのバイナリフォーマットで送る(リトル・エ
  ンディアンかビッグ・エンディアンかを審判プログラムの -b オプションで選択可能)
■PPM画像は、P3(text)かP6(binary)のいずれかのフォーマットで送る。審判プログラム
  は送られたバイト列をそのままファイルに保存する(ただし、後ろに余計なデータが付
  いていた場合は無視される)

-------------------------------------------------------------------------------
